<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" href="css/mui.min.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" type="text/css" href="css/icons-extra.css" />
    <link rel="stylesheet" type="text/css" href="css/app.css" />
    <link rel="stylesheet" type="text/css" href="css/sports.css" />
    <link rel="stylesheet" href="lib/bootstrap.min.css">
    <title>俄罗斯VS沙特阿拉伯</title>
</head>
<style>
    .hide {
        display: none;
    }

    #myTab li {
        /* width: 30%; */
        font-size: 18px;
        list-style: none;
        /* text-align: center; */
        margin: auto;
    }

    #myTab li a {
        color: #333;
    }

    .game_1 {
        padding: 18px;
    }

    .quizzes-choice-item {
        width: 88px;
        height: 56px;
        /* border-radius: 50%; */
        border-left: 1px solid gray;
        display: inline-block
    }

    .mt40 {
        margin-top: 40px;
    }

    .zhuangtai {
        width: 50px;
        display: inline-block;
        text-align: center;
        color: #fff;
    }

    .wait {

        background-color: red;
    }

    .success {
        background-color: green;
    }

    .tittle {
        line-height: 20px;
    }

    .win {
        text-align: center;
        font-size: 20px;
        width: 100%;
        color: red;
    }


    /* 遮罩 下注金额 */

    .theme-popover-mask {
        z-index: 9998;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #000;
        opacity: 0.4;
        filter: alpha(opacity=40);
        display: none
    }

    .theme-popover {

        z-index: 9999;
        position: absolute;
        top: 49%;
        /* left: 89%; */
        width: 384px;
        height: 392px;
        /* margin: -180px 0 0 -330px; */
        border-radius: 5px;
        border: solid 2px #666;
        background-color: #fff;
        display: none;
        box-shadow: 0 0 10px #666;
    }

    .money {
        width: 88px;
        height: 26px;
        /* border-radius: 50%; */
        border: 1px solid gray;
        display: inline-block;
    }
</style>

<body>

    <header class="mui-bar mui-bar-nav aui-header b-line">
        <!--<a class=" mui-icon mui-icon-search mui-pull-left" href="search.html"></a>-->
        <a href="sports.html" class="a">
            < </a>
                <h1 class="mui-title">赛事</h1>
                <!--<a class=" mui-icon mui-icon-chatbubble mui-pull-right" href="dope.html"></a>-->
    </header>

    <div class="mui-content">

        <div class="aui-hot t-line sports-line">
            <div class="mui-card mt16">
                <!--页眉，放置标题-->
                <div class="mui-card-header" href="game.html">
                    <div class="mui-card-header mui-card-media game-header">

                    </div>
                </div>
                <!--内容区-->
                <div class="mui-card-content">
                    <!-- <a href="#"><img src="images/thanos.png" alt=""></a> -->
                    <div class="mui-content " id="sport">
                        <div class="mui-row game-body">

                        </div>



                        <!-- tab标签 -->
                        <ul id="myTab" class="nav nav-tabs" style="line-height: 20px;">
                            <li class="active">
                                    <span class="mui-badge mui-badge-primary" style="width: 19px;height: 21px;padding:0px;"> <img src="images/button/quiz_press@2x.png"></img> </span>
                                    <a href="#game-quizz" data-toggle="tab" class="active show">竞猜</a>
                            </li>

                            <li>
                                <span class="mui-badge mui-badge-primary" style="width: 19px;height: 21px;padding:0px;"> <img src="images/button/mine_press@2x.png"></img> </span>
                                <a href="#myself" data-toggle="tab">我的</a>
                            </li>
                            <li class="dropdown">
                                    <span class="mui-badge mui-badge-primary" style="width: 19px;height: 21px;padding:0px;"> <img src="images/button/friends@2x.png"></img> </span>
                                <a href="#friends" data-toggle="tab">好友的</a>
                            </li>
                        </ul>

                        <!-- 每个tab页对应的内容 -->
                        <div id="myTabContent" class="tab-content">
                            <div class="tab-pane fade in active show" id="game-quizz">
                                <!-- 盘一
                                <div class="mui-card-content  game_1">
                                    <div class="mui-content">
                                        <div class="tittle">
                                            <span class=" mui-icon mui-icon-videocam result"></span>
                                            <span class="result"> 胜 负 平</span>&nbsp;
                                            <i>( 90分钟内的赛果 )</i>
                                        </div>
                                        <div class="mui-row">
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item" id="quizzes-choice-item">
                                                        <p>德国胜</p>
                                                        <p>50%</p>
                                                    </span>
                                                </li>
                                            </div>
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>平</p>
                                                        <p>10%</p>
                                                    </span>
                                                </li>
                                            </div>
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>巴西胜</p>
                                                        <p>40%</p>
                                                    </span>
                                                </li>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->

                                <!-- 盘二 
                                <div class="mui-card-content  game_1">
                                    <div class="mui-content">
                                        <div class="tittle">
                                            <span class=" mui-icon mui-icon-videocam result"></span>
                                            <span class="result"> 球数总和为单/双数</span>&nbsp;
                                            <i>( 90分钟内的赛果 )</i>
                                        </div>
                                        <div class="mui-row">
                                            <div class="mui-col-sm-6 mui-col-xs-6">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>单</p>
                                                        <p>60%</p>
                                                    </span>
                                                </li>
                                            </div>
                                            <div class="mui-col-sm-6 mui-col-xs-6">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>双</p>
                                                        <p>40%</p>
                                                    </span>
                                                </li>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->
                            </div>
                            <div class="tab-pane fade" id="myself">
                                <!-- 记录1 -->
                                <div class="mui-card-content  game_1">
                                    <div class="mui-content">
                                        <div class="tittle">
                                            <span class="zhuangtai wait">待开奖</span>
                                            <span class="result"> 胜 负 平</span>&nbsp;
                                            <i style="float:right;">06-12 11:00</i>
                                        </div>
                                        <div class="mui-row">
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>我猜</p>
                                                        <p>德国胜</p>
                                                    </span>
                                                </li>
                                            </div>
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>投注</p>
                                                        <p>100QB</p>
                                                    </span>
                                                </li>
                                            </div>
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>赔率</p>
                                                        <p>1.85</p>
                                                    </span>
                                                </li>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- 记录2 -->
                                <div class="mui-card-content  game_1">
                                    <div class="mui-content">
                                        <div class="tittle">
                                            <span class="zhuangtai success">猜对</span>
                                            <span class="result"> 胜 负 平</span>&nbsp;
                                            <i style="float:right;">06-12 11:00</i>
                                        </div>
                                        <div class="mui-row">
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>我猜</p>
                                                        <p>德国胜</p>
                                                    </span>
                                                </li>
                                            </div>
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>投注</p>
                                                        <p>100QB</p>
                                                    </span>
                                                </li>
                                            </div>
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>赔率</p>
                                                        <p>1.85</p>
                                                    </span>
                                                </li>
                                            </div>
                                        </div>
                                        <div class="win">
                                            获得185QB
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="friends">
                                <!-- 记录1 -->
                                <div class="mui-card-content  game_1">
                                    <div class="mui-content">
                                        <div class="tittle">
                                            <span class="zhuangtai wait">待开奖</span>
                                            <span class="result"> 胜 负 平</span>&nbsp;
                                            <i style="float:right;">06-12 11:00</i>
                                        </div>
                                        <div class="mui-row">
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>我猜</p>
                                                        <p>德国胜</p>
                                                    </span>
                                                </li>
                                            </div>
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>投注</p>
                                                        <p>100QB</p>
                                                    </span>
                                                </li>
                                            </div>
                                            <div class="mui-col-sm-4 mui-col-xs-4">
                                                <li class="mui-table-view-cell style_none">
                                                    <span class="quizzes-choice-item">
                                                        <p>赔率</p>
                                                        <p>1.85</p>
                                                    </span>
                                                </li>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>

                            <div class="mui-content">
                                <button type="button" class="mui-btn mui-btn-danger" style="width: 49%;border-radius: 0;">与好友PK</button>
                                <button type="button" class="mui-btn mui-btn-success " style="width: 49%;">分享给好友</button>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="theme-popover">
                    <div class="theme-poptit">
                        <a href="javascript:void(0);" title="关闭" class="close">×</a>
                        <h5>投注 ：德国胜</h5>
                        <!-- <span style="float: right">投注规则 > </span> -->
                    </div>
                    <div class="theme-popbod dform">
                        <div class="mui-row">
                            <div class="mui-col-sm-4 mui-col-xs-4">
                                <li class="mui-table-view-cell style_none">
                                    <span class="money">
                                        <p>100QB</p>
                                    </span>
                                </li>
                            </div>
                            <div class="mui-col-sm-4 mui-col-xs-4">
                                <li class="mui-table-view-cell style_none">
                                    <span class="money">
                                        <p>200QB</p>
                                    </span>
                                </li>
                            </div>
                            <div class="mui-col-sm-4 mui-col-xs-4">
                                <li class="mui-table-view-cell style_none">
                                    <span class="money">
                                        <p>300QB</p>
                                    </span>
                                </li>
                            </div>

                            <div class="mui-col-sm-4 mui-col-xs-4">
                                <li class="mui-table-view-cell style_none">
                                    <span class="money">
                                        <p>100QB</p>
                                    </span>
                                </li>
                            </div>
                            <div class="mui-col-sm-4 mui-col-xs-4">
                                <li class="mui-table-view-cell style_none">
                                    <span class="money">
                                        <p>200QB</p>
                                    </span>
                                </li>
                            </div>
                            <div class="mui-col-sm-4 mui-col-xs-4">
                                <li class="mui-table-view-cell style_none">
                                    <span class="money">
                                        <p>300QB</p>
                                    </span>
                                </li>
                            </div>
                        </div>
                        <h5>赔率 ：
                            <span>1.55</span>
                        </h5>
                        <h5>获得 ：
                            <span>155QB</span>
                        </h5>
                        <button type="button" class="mui-btn mui-btn-danger" style="    width: 100%;border-radius: 0;">立刻投注</button>
                        <!-- <form class="theme-signin" name="loginform" action="" method="post">
                            <ol>
                                <li>
                                    <h5>德国胜</h5>
                                </li>
                                <li>
                                   100QB
                                </li>
                                <li>
                                    200QB
                                </li>
                                <li>
                                    300QB
                                </li>
                            </ol>
                        </form> -->
                    </div>
                </div>
                <div class="theme-popover-mask"></div>

            </div>
        </div>
    </div>

    <script src="lib/jquery-3.3.1.min.js"></script>
    <script src="lib/bootstrap.min.js"></script>
    <script src="js/mui.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.js"></script>


    <script id="game-header-tpl" type="text/x-jQuery-tmpl">
        <span class="mui-badge mui-badge-primary">${type.Name}</span>
        <div class="mui-media-body">
            ${description}
        </div>
    </script>
    <script id="game-body-tpl" type="text/x-jQuery-tmpl">
        <div class="mui-col-sm-4 mui-col-xs-4">
            <li class="mui-table-view-cell style_none">
                <span class="contury">
                    <img src="${home_team.logo}" alt="">
                    <span class="ing">${home_team.name}</span>
                </span>
            </li>
        </div>
        <div class="mui-col-sm-4 mui-col-xs-4">
            <li class="mui-table-view-cell style_none p0">
                <span class="time" style="display: inline-block;">${begin}</span>
                <span class="ing">竞猜中</span>
            </li>
        </div>
        <div class="mui-col-sm-4 mui-col-xs-4">
            <li class="mui-table-view-cell style_none">
                <span class="contury">
                    <img src="${visit_team.logo}" alt="">
                    <span class="ing">${visit_team.name}</span>
                </span>
            </li>
        </div>
    </script>
    <script id="game-quizz-tpl" type="text/x-jQuery-tmpl">
        <div class="mui-card-content  game_1">
            <div class="mui-content">
                <div class="tittle">
                    <span class="mui-badge mui-badge-primary" style="width: 19px;height: 21px;padding:0px;"> <img src="images/icon/ranking@2x.png"></img> </span>
                    <span class="result">${instruction}</span>&nbsp;
                    <i>( 90分钟内的赛果 )</i>
                </div>
                <div class="mui-row" id="quizzes-choice-items">
                   
                    {{each choice_opt}} 
                    <div class="mui-col-sm-4 mui-col-xs-4">
                        <li class="mui-table-view-cell style_none">
                            <span class="quizzes-choice-item">
                                <p>${name}</p>
                                <p>${odds}</p>
                            </span>
                        </li>
                    </div>
                    {{/each}}
                </div>
            </div>
        </div>
    </script>

    <script>

        jQuery(document).ready(function ($) {
            
            /*
            $(".quizzes-choice-items").on("click",".quizzes-choice-item", function () {
                //var game_id = $(this).attr("game_id");
                //console.log(game_id)

                //$(location).attr('href', 'game.html?game_id='+game_id);
                console.log(1111)
                $('.theme-popover-mask').fadeIn(100);
                $('.theme-popover').slideDown(200);
            })
            */

            $('.theme-poptit .close').click(function () {
                $('.theme-popover-mask').fadeOut(100);
                $('.theme-popover').slideUp(200);
            })




        $(function () {
            $("#quizzes-choice-items").on("click", ".quizzes-choice-item", function () {
                //var game_id = $(this).attr("game_id");
                //console.log(game_id)

                //$(location).attr('href', 'game.html?game_id='+game_id);
                console.log(1111)
                $('.theme-popover-mask').fadeIn(100);
                $('.theme-popover').slideDown(200);
            })
        })
        var getUrlParameter = function getUrlParameter(sParam) {
            var sPageURL = decodeURIComponent(window.location.search.substring(1)),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;

            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');

                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : sParameterName[1];
                }
            }
        };



        var url = "http://35.180.103.230:8080/v1/game/quizzes";

        var game_id = getUrlParameter("game_id");
        var params = {
            game_id: game_id ? parseInt(game_id) : 1
        };
        $.ajax({
            type: "POST",
            url: url,
            data: JSON.stringify(params),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (res) {
                console.log(res)
                showGame(res.data.game)

                showQuizzes(res.data.quizzes)
            }
        });


        function showGame(game) {

            document.title = game.home_team.name + 'VS' + game.visit_team.name;

            $("#game-header-tpl").tmpl(game).appendTo(".game-header");
            $("#game-body-tpl").tmpl(game).appendTo(".game-body");

        }

        function showQuizzes(quizzes) {
            $("#game-quizz-tpl").tmpl(quizzes).appendTo("#game-quizz");
        }

        $('#which').click(function () {
            $('.theme-popover-mask').fadeIn(100);
            $('.theme-popover').slideDown(200);
        })
        $('.theme-poptit .close').click(function () {
            $('.theme-popover-mask').fadeOut(100);
            $('.theme-popover').slideUp(200);
        })
        })


    </script>
</body>

</html>